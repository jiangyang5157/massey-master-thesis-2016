%****************************************************************
% Chapter X
%****************************************************************
\label{ChapterX}
\chapter{Chapter To Be Removed}

%****************************************************************
\section{Ray Intersection}

Detect collisions between ray and models is the key to allow user selecting objects in the VR would, which is one of the importent experience for user interaction.

A ray can be describe in a equation with known ray start position \emph{$\overrightarrow{R_0}$} and ray direction \emph{$\overrightarrow{R_d}$}.

\begin{equation}\label{equ:ray-t}
\overrightarrow{R(t)} = \overrightarrow{R_0} + \overrightarrow{R_d} \cdot t
\end{equation}

%****************************************************************
\subsection{Ray-Sphere}

\begin{figure}[h!]\label{fig:ray-sphere}
\centering
\includegraphics[width=\linewidth]{Figures/ray-sphere-intersection.png}
\decoRule
\caption[ray-sphere-intersection]{Ray-Sphere intersection}
\end{figure}

A point \emph{P} on the surface of sphere should match the equation:

\begin{equation}\label{equ:sphere-surface}
(x_p - x_c)^2 + (y_p - y_c)^2 + (z_p - z_c)^2 = r^2
\end{equation}

If the ray intersects with the sphere at any position\emph{P} must match the equation \ref{equ:ray-t} and \ref{equ:sphere-surface}. Therefor the solution of \emph{t} in the cointegrate equation implies whether or not the ray will intersect with the sphere:

\[
\begin{aligned}
(x_{R_0} + x_{R_d} \cdot t - x_c)^2 + (y_{R_0} + y_{R_d} \cdot t - y_c)^2 + (z_{R_0} + z_{R_d} \cdot t - z_c)^2 &= r^2 \\
&\vdots \\
x_{R_d}^2 \cdot t^2 + (2 \cdot x_{R_d} \cdot (x_{R_0} - x_c)) \cdot t + (x_{R_0}^2 - 2 \cdot x_{R_0}\cdot x_c + x_c^2) & \\
+\ y_{R_d}^2 \cdot t^2 + (2 \cdot y_{R_d} \cdot (y_{R_0} - y_c)) \cdot t + (y_{R_0}^2 - 2 \cdot y_{R_0}\cdot y_c + y_c^2) & \\
+\ z_{R_d}^2 \cdot t^2 + (2 \cdot z_{R_d} \cdot (z_{R_0} - z_c)) \cdot t + (z_{R_0}^2 - 2 \cdot z_{R_0}\cdot z_c + z_c^2) &= r^2
\end{aligned}
\]

It can be seen as a quadratic formula:

\begin{equation}\label{equ:sphere-surface-quadratic-formula}
a \cdot t^2 + b \cdot t + c = 0
\end{equation}

At this point, we are able to solved the \emph{t}:

\[
t =
\begin{cases}
\frac{-b \pm \sqrt{b^2 - 4ac}}{2a} & \text{if } b^2 - 4ac > 0 \\
\frac{-b}{2a} & \text{if } b^2 - 4ac = 0 \\
\varnothing & \text{if } b^2 - 4ac < 0
\end{cases}
\]

Then, I take a further step to get rid of formula complexity.

$\because$
\[
\left\{
\begin{array}{lr}
a = x_{R_d}^2 + y_{R_d}^2 + z_{R_d}^2 \\
b = 2 \cdot (x_{R_d} \cdot (x_{R_0} - x_c) + y_{R_d} \cdot (y_{R_0} - y_c) + z_{R_d} \cdot (z_{R_0} - z_c)) \\
c = (x_{R_0} - x_c)^2 + (y_{R_0} - y_c)^2 + (z_{R_0} - z_c)^2 - r^2
\end{array}
\right.
\]

$\And$
\[
\left\{
\begin{array}{lr}
\begin{aligned}
\norm{\overrightarrow{R_d}} &= \sqrt{x_{R_d}^2 + y_{R_d}^2 + z_{R_d}^2} = 1 \\
\overrightarrow{V_{c\_R_0}} &= \overrightarrow{R_0} - \overrightarrow{C} = \overrightarrow{(x_{R_0} - x_c, y_{R_0} - y_c, z_{R_0} - z_c)}
\end{aligned}
\end{array}
\right.
\]

$\therefore$
\[
\left\{
\begin{array}{lr}
a =1 \\
b = 2 \cdot \overrightarrow{R_d} \cdot \overrightarrow{V_{c\_R_0}} \\
c = \overrightarrow{V_{c\_R_0}} \cdot \overrightarrow{V_{c\_R_0}} \cdot r^2
\end{array}
\right.
\]

And the solution for \emph{t} can also be optimized:

$\because$
\[
\begin{array}{lr}
\frac{-b \pm \sqrt{b^2 - 4ac}}{2a} = -(\frac{b}{2a}) \pm \sqrt{(\frac{b}{2a})^2 - \frac{4ac}{4a^2}} = -0.5b \pm \sqrt{(0.5b)^2 - c} \\
\alpha = 0.5b \\
\beta = \alpha^2 - c
\end{array}
\]

$\therefore$
\[
t =
\begin{cases}
 -\alpha \pm \sqrt{\beta} & \text{if } \beta > 0 \\
-\alpha & \text{if } \beta = 0 \\
\varnothing & \text{if } \beta < 0
\end{cases}
\]

And the collision position for each \emph{t} is:

\[
\overrightarrow{P} = \overrightarrow{R_0} + \overrightarrow{R_d} \cdot t
\]

%****************************************************************
\subsection{Ray-Plane}

\begin{figure}[h!]\label{fig:ray-plane}
\centering
\includegraphics[width=\linewidth]{Figures/ray-plane-intersection.png}
\decoRule
\caption[ray-plane-intersection]{Ray-Plane intersection}
\end{figure}

If a point \emph{P} on the plane and also belongs to the ray, we have quadric equation:

\begin{equation}\label{equ:ray-plane-intersection}
\left\{
\begin{array}{lr}
(\overrightarrow{P} - \overrightarrow{S1}) \cdot \overrightarrow{N} = 0 \\
\overrightarrow{P} = \overrightarrow{R_0} + \overrightarrow{R_d} \cdot t
\end{array}
\right.
\end{equation}

$\therefore$
\[
t =
\begin{cases}
\frac{-\overrightarrow{N} \cdot (\overrightarrow{R_0} - \overrightarrow{S_1})}{\overrightarrow{N} \cdot \overrightarrow{R_d}} & \text{if } \overrightarrow{N} \cdot \overrightarrow{R_d} \nsim 0 \\
\varnothing & \text{if } \overrightarrow{N} \cdot \overrightarrow{R_d} \sim 0
\end{cases}
\]

Then, we have to verify if the collision is inside of the quadrangle by putting \emph{t} back to \ref{equ:ray-plane-intersection}, and:



%****************************************************************
\section{Section 2}
asdasd

\subsection{Subsection 1}
asdasdasd

\subsection{Subsection 2}
asdasdasdasd

%****************************************************************
\section{Section 3}

\subsection{Subsection 1}
asdasdasd

\subsection{Subsection 2}
asdasdasdasd

\subsection{Subsection 3}
asdasdasd

%****************************************************************
\section{Section 4}

